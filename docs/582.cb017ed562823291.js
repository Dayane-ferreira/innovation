"use strict";(self.webpackChunkinnovation=self.webpackChunkinnovation||[]).push([[582],{7582:(O,d,r)=>{r.r(d),r.d(d,{CarrinhoModule:()=>s});var p=r(6895),g=r(9541),n=r(1571),C=r(5087),_=r(2891),a=r(433);function f(i,o){if(1&i){const t=n.EpF();n.TgZ(0,"div"),n._UZ(1,"img",4),n.TgZ(2,"h2"),n._uU(3),n.qZA(),n.TgZ(4,"label")(5,"input",5),n.NdJ("ngModelChange",function(h){const u=n.CHM(t).$implicit;return n.KtG(u.quantidade=h)})("change",function(){n.CHM(t);const h=n.oxw(2);return n.KtG(h.calcularTotal())}),n.qZA()(),n.TgZ(6,"p"),n._uU(7),n.ALo(8,"currency"),n.qZA(),n.TgZ(9,"button",6),n.NdJ("click",function(){const m=n.CHM(t).$implicit,u=n.oxw(2);return n.KtG(u.removerProduto(m.id))}),n._UZ(10,"i",7),n.qZA()()}if(2&i){const t=o.$implicit;n.xp6(1),n.Q6J("src",t.imagem,n.LSH),n.xp6(2),n.Oqu(t.nome),n.xp6(2),n.Q6J("ngModel",t.quantidade),n.xp6(2),n.Oqu(n.xi3(8,4,t.preco,"BRL"))}}function x(i,o){if(1&i){const t=n.EpF();n.TgZ(0,"section"),n.YNc(1,f,11,7,"div",2),n.TgZ(2,"h3"),n._uU(3),n.ALo(4,"currency"),n.qZA(),n.TgZ(5,"button",3),n.NdJ("click",function(){n.CHM(t);const h=n.oxw();return n.KtG(h.finalizarCompra())}),n._uU(6,"Finalizar compra"),n.qZA()()}if(2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.itensCarrinho),n.xp6(2),n.hij("Total: ",n.xi3(4,2,t.total,"BRL"),"")}}function v(i,o){1&i&&(n.TgZ(0,"section",8),n._UZ(1,"i",9),n.TgZ(2,"h2"),n._uU(3,"Seu carrinho est\xe1 vazio!"),n.qZA(),n.TgZ(4,"a",10),n._uU(5,"Ver produtos"),n.qZA()())}class l{constructor(o,t,e){this.carrinhoService=o,this.auth=t,this.router=e,this.itensCarrinho=[],this.total=0}ngOnInit(){this.itensCarrinho=this.carrinhoService.getAll(),this.calcularTotal()}calcularTotal(){this.total=this.itensCarrinho.reduce((o,t)=>o+t.quantidade*t.preco,0)}removerProduto(o){this.itensCarrinho=this.itensCarrinho.filter(t=>t.id!==o),this.carrinhoService.removerProduto(o),this.calcularTotal()}finalizarCompra(){if(this.auth.estarAutenticado())return alert("Sua compra foi realizada"),this.carrinhoService.limparCarrinho(),void this.router.navigate([""]);alert("Voc\xea precisa entrar na sua conta para finalizar a compra!"),this.router.navigate(["login"])}}l.\u0275fac=function(o){return new(o||l)(n.Y36(C.e),n.Y36(_.e),n.Y36(g.F0))},l.\u0275cmp=n.Xpm({type:l,selectors:[["app-carrinho"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["semProduto",""],[4,"ngFor","ngForOf"],[1,"confimar-compra",3,"click"],[3,"src"],["type","number","min","1",3,"ngModel","ngModelChange","change"],[3,"click"],[1,"fa-solid","fa-trash"],[1,"carrinho-vazio"],[1,"fa-solid","fa-cart-shopping"],["routerLink","/produtos"]],template:function(o,t){if(1&o&&(n.YNc(0,x,7,5,"section",0),n.YNc(1,v,6,0,"ng-template",null,1,n.W1O)),2&o){const e=n.MAs(2);n.Q6J("ngIf",t.itensCarrinho.length>0)("ngIfElse",e)}},dependencies:[p.sg,p.O5,g.rH,a.Fj,a.wV,a.JJ,a.qQ,a.On,p.H9],styles:["section[_ngcontent-%COMP%]{margin:40px;position:relative}div[_ngcontent-%COMP%]{display:flex;margin:10px 0;align-items:center;justify-content:space-between;font-size:1.5em}img[_ngcontent-%COMP%]{width:100px;height:100px}div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px;width:40px;text-align:center;font-size:1em}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;width:40px;text-align:center;border:transparent;background-color:transparent;font-size:1.5em}section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0;font-size:2em}.confimar-compra[_ngcontent-%COMP%]{background-color:var(--cor);color:var(--cor1);height:60px;width:200px;border-radius:5px;padding:10px;margin:20px 0;font-size:1.5em}.carrinho-vazio[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;padding:90px}.carrinho-vazio[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3em}.carrinho-vazio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5em}.carrinho-vazio[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:20px 0}.carrinho-vazio[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:var(--cor);color:var(--cor1);height:60px;width:200px;border-radius:5px;padding:10px;text-decoration:none}"]});const M=[{path:"",component:l}];class c{}c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=n.oAB({type:c}),c.\u0275inj=n.cJS({imports:[g.Bz.forChild(M),g.Bz]});class s{}s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[p.ez,c,a.u5]})}}]);